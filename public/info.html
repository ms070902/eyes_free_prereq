<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registration</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="details">
    <h2 id="rule">Important Prerequites to follow</h2>
    <p>
      1. Enable 2-Step Verification: - Go to the Google Account Security page
      (https://myaccount.google.com/security). - Under "Signing in to Google,"
      select "2-Step Verification." - Follow the on-screen instructions to set
      up 2-Step Verification using your preferred method (e.g., Google
      Authenticator app, SMS, or security key). <br /><br />
      2. Generate an App Password: - After enabling 2-Step Verification,
      you'll need to generate an app password to allow your email client or
      app to access your Gmail account. - Go back to the Google Account
      Security page and click on "App Passwords" under "Signing in to Google."
      - Select "Mail" from the "Select app" dropdown menu and enter a name for
      the app password (e.g., "IMAP Client" or "SMTP Client"). - Click
      "Generate." - Copy the generated 16-digit app password and keep it
      handy.
    </p>
    <br />
    <h2 id="req">Please fill the registration form given below.</h2>
  </div>

  <div class="register-container">
    <form id="register-form">
      <label for="newUsername">Email:</label>
      <input type="email" id="newEmail" name="newEmail" required />
      <br />
      <br />
      <label for="newPassword">Password:</label>
      <input type="password" id="newPassword" name="newPassword" required />
      <br />
      <br />
      <br />
      <button id="btn" type="button" class="btn btn-primary btn-lg" onclick="sendData()">
        REGISTER
      </button>
    </form>
    <script>
      async function sendData() {
        const email = document.getElementById('newEmail').value;
        const password = document.getElementById('newPassword').value;

        const formData = new FormData();
        formData.append('user_email', email);
        formData.append('user_password', password);

        const apiUrl = "https://6a30-202-179-95-90.ngrok-free.app/";

        const url = apiUrl + 'registerpassword';

        const response = await fetch(url, {
          method: 'POST',
          cache: 'no-cache',
          body: formData
        });

        const result = response.json();

        if(response.status === 200) {
          alert("Response received successfully");
        }
      }
    </script>
  </div>
</body>

</html>